// 投稿を保存
let posts = JSON.parse(localStorage.getItem("posts") || "[]");
posts.push({name: "名もなき兎", comment: "こんにちは", time: new Date().toLocaleString()});
localStorage.setItem("posts", JSON.stringify(posts));

// ページ読み込み時に表示
let savedPosts = JSON.parse(localStorage.getItem("posts") || "[]");
savedPosts.forEach(p => showPost(p)); // showPost関数でHTMLに追加
      color: #555;
      font-size: 12px;
      padding-left: 8px;
    }
  </style>
</head>
<body>

<h2>うさ★キラ掲示板</h2>

<input id="nameInput" placeholder="名前（例: 名もなき兎）">
<br><br>
<textarea id="textInput" placeholder="コメントを書いてね"></textarea>
<br>
<button onclick="postMessage()">投稿</button>

<div id="posts"></div>

<script>
let count = 0;

function postMessage() {
  const name = document.getElementById("nameInput").value || "名もなき兎";
  const text = document.getElementById("textInput").value;
  if (!text.trim()) return;

  count++;

  const now = new Date();
  const timeString =
    now.getFullYear() + "/" +
    (now.getMonth() + 1) + "/" +
    now.getDate() + " " +
    now.getHours().toString().padStart(2, "0") + ":" +
    now.getMinutes().toString().padStart(2, "0") + ":" +
    now.getSeconds().toString().padStart(2, "0");

  const posts = document.getElementById("posts");
  const div = document.createElement("div");
  div.className = "post";

  div.innerHTML =
    "#" + count +
    " <img src='usagi.png.jpeg' class='icon'> " +
    "<strong>" + name + "</strong> ： " + text +
    "<span class='time'>(" + timeString + ")</span>";

  posts.prepend(div);
  document.getElementById("textInput").value = "";
}
</script>

</body>
</html>
